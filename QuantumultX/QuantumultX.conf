// ==UserScript==
// @ConfigName        QXé…ç½®æ–‡ä»¶
// @Author            @Eoyz369
// @WechatID          Nature369
// @ExpressThanks     @ddgksf2013,@Nick-workflow,@KOP-XIAO,@DivineEngine,@blackmatrix7,@Orz-3,@yjqiang,@O7Y0,@Peng-YM,@Neurogram-R,@id77,@NobyDa,@17mon
// ==/UserScript==



[general]

# > ç”¨äºèŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•
server_check_url= http://cp.cloudflare.com/generate_204
# > æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout = 3000
# > ç”¨äºè®¾ç½®å›¾æ ‡æ˜¾ç¤º
profile_img_url=https://github.githubassets.com/images/modules/site/integrators/google.png
# > ç”¨äºCheckèŠ‚ç‚¹IPåœ°å€(ä»¥ä¸‹geo_location_checkerä»»é€‰ä¸€ä¸ªå³å¯)
geo_location_checker=disabled
;geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js
# > åŠŸèƒ½å¼ºå¤§çš„è§£æå™¨ï¼Œç”¨äºå¼•ç”¨èµ„æºçš„è½¬æ¢
resource_parser_url=https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
# > ä¸‹åˆ—è·¯å¾„å°†ä¸ç»è¿‡QuanXçš„å¤„ç†
excluded_routes=239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32
udp_whitelist=1-442, 444-65535
# > ç¬¬ä¸€ä¸ªfilterä¸º4gæ¨¡å¼å¼€å¯è§„åˆ™åˆ†æµï¼Œç¬¬äºŒä¸ªfilterä¸ºå…¶ä»–wifiä¸‹å¼€å¯è§„åˆ™åˆ†æµï¼Œç¬¬ä¸‰ä¸ªwifi1ä¿®æ”¹æˆä½ è·¯ç”±å™¨ç¿»å¢™çš„wifiåå¼€å¯ç›´è¿æ¨¡å¼ï¼Œç¬¬å››ä¸ªwifi2ä¸ºä½ å…¬å¸æˆ–è€…å…¶ä»–æœ‰è·¯ç”±å™¨ç¿»å¢™çš„WiFiåèµ°ç›´è¿ï¼‰
# > é»˜è®¤å…³é—­æ ¹æ®wifiåˆ‡æ¢æ¨¡å¼ï¼Œå¦‚éœ€å¼€å¯ï¼Œåˆ é™¤ä¸‹æ–¹çš„"#"å³å¯
#running_mode_trigger=filter, filter, wifi1:all_direct, wifi2: all_direct
# > dns_exclusion_list
dns_exclusion_list=*.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com



[task_local]



[rewrite_local]



[rewrite_remote]



#>>>>>>>>>>>è½¯ä»¶å¢å¼º
https://github.com/ddgksf2013/Rewrite/raw/master/Function/BaiduCloud.conf, tag=ç™¾åº¦ç½‘ç›˜å€é€Ÿ@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/zZPiglet/Task/master/UnblockURLinWeChat.conf, tag=å¾®ä¿¡è§£é”è¢«å±è”½çš„URL@zZPiglet, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/Netflix_ratings.conf, tag=Netflixè¯„åˆ†@Orz-3, update-interval=86400, opt-parser=false, enabled=false

#>>>>>>>>>>>é€šç”¨å»å¹¿å‘Š
;https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/Advertising/Advertising.conf, tag=å»å¹¿å‘Šé‡å†™@blackmatrix7, update-interval=86400, opt-parser=false, enabled=false
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/General.conf, tag=ç¥æœºé‡å®šå‘@DivineEngine, update-interval=86400, opt-parser=false, enabled=true


#>>>>>>>>>>>ç½‘é¡µä¼˜åŒ–
https://github.com/ddgksf2013/Rewrite/raw/master/Html/Q-Search.conf, tag=Safariè¶…çº§æœç´¢@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true


#>>>>>>>>>>>æœªå¯ç”¨çš„é‡å†™
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/JD_TB_price.conf, tag=æ¯”ä»·è„šæœ¬@Orz-3, update-interval=86400, opt-parser=false, enabled=false

[server_local]



[server_remote]


# > é­”æ³•ä»…ä¾›ä¸´æ—¶ä½¿ç”¨
https://raw.githubusercontent.com/Jsnzkpg/Jsnzkpg/Jsnzkpg/Jsnzkpg, tag=ğŸŸä¸´æ—¶ä½¿ç”¨, update-interval=3600, opt-parser=true, enabled=true



[dns]

;prefer-doh3
;doh-server = https://223.5.5.5/dns-query, https://223.6.6.6/dns-query
no-ipv6
no-system
server=223.5.5.5
server=8.8.8.8
server=119.29.29.29
server=114.114.114.114
server=/*.icloud.com/119.29.29.29
server=/*.icloud.com.cn/119.29.29.29
server=/*.tencent.com/119.29.29.29
server=/*.weixin.com/119.29.29.29



[policy]


static=å…¨çƒåŠ é€Ÿ, è‡ªåŠ¨é€‰æ‹©,  direct, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹,å¾·å›½èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,è‹±å›½èŠ‚ç‚¹,åŠ æ‹¿å¤§èŠ‚ç‚¹,æ¾³å¤§åˆ©äºšèŠ‚ç‚¹,é˜¿æ ¹å»·èŠ‚ç‚¹,å°åº¦èŠ‚ç‚¹, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Global.png
static=è‹¹æœæœåŠ¡,  direct, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹,å¾·å›½èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,è‹±å›½èŠ‚ç‚¹,åŠ æ‹¿å¤§èŠ‚ç‚¹,æ¾³å¤§åˆ©äºšèŠ‚ç‚¹,é˜¿æ ¹å»·èŠ‚ç‚¹,å°åº¦èŠ‚ç‚¹, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Apple.png
static=å›½é™…åª’ä½“,  direct, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹,å¾·å›½èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,è‹±å›½èŠ‚ç‚¹,åŠ æ‹¿å¤§èŠ‚ç‚¹,æ¾³å¤§åˆ©äºšèŠ‚ç‚¹,é˜¿æ ¹å»·èŠ‚ç‚¹,å°åº¦èŠ‚ç‚¹, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Streaming.png
static=å…œåº•åˆ†æµ, å…¨çƒåŠ é€Ÿ, direct, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹,å¾·å›½èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,è‹±å›½èŠ‚ç‚¹,åŠ æ‹¿å¤§èŠ‚ç‚¹,æ¾³å¤§åˆ©äºšèŠ‚ç‚¹,é˜¿æ ¹å»·èŠ‚ç‚¹,å°åº¦èŠ‚ç‚¹, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Final.png


#é»˜è®¤è®¾ç½®10åˆ†é’Ÿæµ‹é€Ÿä¸€æ¬¡

url-latency-benchmark=è‡ªåŠ¨é€‰æ‹©, server-tag-regex=.*, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png
url-latency-benchmark=ç‹®åŸèŠ‚ç‚¹, server-tag-regex=(?=.*(æ–°|SG|(?i)Singapore)^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾|æ³•|å¾·|æ¾³|è‹±|å¤§|é˜¿|å°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/SG.png
url-latency-benchmark=æ—¥æœ¬èŠ‚ç‚¹, server-tag-regex=(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾|æ³•|å¾·|éŸ©|è‹±|åŠ |æ¾³|é˜¿|å°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/JP.png
url-latency-benchmark=é¦™æ¸¯èŠ‚ç‚¹, server-tag-regex=(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾|æ³•|å¾·|éŸ©|è‹±|åŠ |æ¾³|é˜¿|å°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png

url-latency-benchmark=ç¾å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(ç¾|US|(?i)States|American))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|æ³•|å¾·|éŸ©|è‹±|åŠ |æ¾³|é˜¿|å°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/US.png
url-latency-benchmark=æ³•å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(æ³•|FR|(?i)France))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|ç¾|å¾·|éŸ©|è‹±|åŠ |æ¾³|é˜¿|å°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/FR.png
url-latency-benchmark=å¾·å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(å¾·|DE|(?i)Germany))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|ç¾|æ³•|éŸ©|è‹±|åŠ |æ¾³|é˜¿|å°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/DE.png
url-latency-benchmark=éŸ©å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(éŸ©|KR|(?i)Korea))^((?!(æ¸¯|å°|æ—¥|æ–°|ç¾|æ³•|å¾·|è‹±|åŠ |æ¾³|é˜¿|å°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/KR.png
url-latency-benchmark=è‹±å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(è‹±|UK|(?i)Britain|England))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|ç¾|æ³•|å¾·|åŠ |æ¾³|é˜¿|å°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/UK.png
url-latency-benchmark=åŠ æ‹¿å¤§èŠ‚ç‚¹, server-tag-regex=(?=.*(åŠ |CA|(?i)Canada))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|ç¾|æ³•|å¾·|è‹±|æ¾³|é˜¿|å°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/CA.png
url-latency-benchmark=æ¾³å¤§åˆ©äºšèŠ‚ç‚¹, server-tag-regex=(?=.*(æ¾³|AU|(?i)|Australia))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|ç¾|æ³•|å¾·|è‹±|åŠ |é˜¿|å°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/AU.png
url-latency-benchmark=é˜¿æ ¹å»·èŠ‚ç‚¹, server-tag-regex=(?=.*(é˜¿|AR|(?i)Argentina ))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|ç¾|æ³•|å¾·|æ¾³|è‹±|åŠ |å°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/XD.png
url-latency-benchmark=å°åº¦èŠ‚ç‚¹, server-tag-regex=(?=.*(å°|IN|(?i)India))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|ç¾|æ³•|å¾·|æ¾³|è‹±|åŠ |é˜¿)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/XD.png
url-latency-benchmark=å°æ¹¾èŠ‚ç‚¹, server-tag-regex=(?=.*(å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾|æ³•|å¾·|æ¾³|è‹±|åŠ |é˜¿|å°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/TW.png



[filter_remote]

https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list, tag=è§„åˆ™ä¿®æ­£, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://anti-ad.net/surge2.txt, tag=å¹¿å‘Šç»ˆç»“è€…, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/WeChat/WeChat.list, tag=å¾®ä¿¡ç›´è¿, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/TikTok.list, tag=æµ·å¤–æŠ–éŸ³, force-policy=å…¨çƒåŠ é€Ÿ, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Google/GoogleVoice.list, tag=Google Voice, force-policy=ç¾å›½èŠ‚ç‚¹, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Filter/master/OpenAi.list, tag=OpenAi, force-policy=ç¾å›½èŠ‚ç‚¹, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Filter/master/Streaming.list, tag=å›½é™…åª’ä½“, force-policy=å›½é™…åª’ä½“, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list, tag=å…¨çƒåŠ é€Ÿ, force-policy=å…¨çƒåŠ é€Ÿ, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Apple/Apple.list, tag=è‹¹æœæœåŠ¡, force-policy=è‹¹æœæœåŠ¡, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list, tag=å›½å†…ç½‘ç«™, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true



[filter_local]

# > ä¸€äº›æ¯”è¾ƒå®¹æ˜“å¿½è§†çš„åˆ†æµ
host, ad.12306.cn, direct
host, gg.caixin.com, direct
host, sdkapp.uve.weibo.com, direct
host-suffix, u3.ucweb.com, reject
host, ntb.lanjie100.com, reject
host-suffix, kuwo.cn, direct


# > local
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/24, direct
ip-cidr, 182.254.116.0/24, direct
geoip, cn, direct
final, å…œåº•åˆ†æµ



[http_backend]



[mitm]

skip_validating_cert = true
force_sni_domain_name = false

hostname = -*api.smzdm.com, -consumer.fcbox.com, -*huami.com, -weather-data.apple.com, -*amemv.com, -*snssdk.com, -www.google.com

# ğŸŸ¢ passphraseå’Œp12ä»£ä¸ºè¯ä¹¦&ä¸»æœºåéƒ¨åˆ†, æ›´æ–°é…ç½®å‰å¯æŠŠæ—§çš„é…ç½®ä¸­passphraseå’Œp12ä»£ç æ‹·è´ä¸‹æ¥, å¯¼å…¥æ–°çš„é…ç½®æ–‡ä»¶æŠŠå†…å®¹ç²˜è´´åœ¨å¯¹åº”ä½ç½®å°±ä¸ç”¨é‡è£…è¯ä¹¦
